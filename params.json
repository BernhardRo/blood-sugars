{"name":"Blood-sugars","tagline":"Exploration of Karen's Nightscout CGM Data. #wearenotwaiting","body":"# Blood Sugar\r\n\r\n> The blood sugar concentration or blood glucose level is the amount\r\n> of glucose (sugar) present in the blood of a human or animal. The\r\n> body naturally tightly regulates blood glucose levels as a part of\r\n> metabolic homeostasis.^[https://en.wikipedia.org/wiki/Blood_sugar]\r\n\r\nThis repo is a place for me to explore how to work with diabetes blood\r\nglucose data. This is a medical example of the\r\n[quantified self](http://quantifiedself.com/) movement. The data\r\nsource is a [Dexcom](http://www.dexcom.com/)\r\n[G4 Platinum System with Share](http://www.dexcom.com/dexcom-g4-platinum-share)\r\nContinuous Glucose Monitor (CGM) worn by my wife, Karen, who has been\r\na Type 1 Diabetic (T1D) since childhood. We are using an Android app,\r\n[XDrip](https://stephenblackwasalreadytaken.github.io/xDrip/) to\r\ncollect the CGM data from the CGM and upload it to a Nighscout\r\ndatabase. We are running a [Nightscout](http://www.nightscout.info/)\r\ndatabase and website which allows her to track her CGM data on her\r\nphone and\r\n[Pebble Watch](http://www.nightscout.info/wiki/labs/pebble_watchface_custom_alerts). All\r\nof these applications are open source and available to anyone who\r\nwants to learn more about diabetes self-management (diabetic\r\nrequired).\r\n\r\nAs a T1D, Karen's body has lost the ability to produce insulin which\r\nmeans her body cannot properly process glucose (sugar) in her\r\nsystem. This means her body cannot maintain an appropriate level of\r\nhomeostasis, something the rest of us do naturally and without\r\nconscious effort. Below is an ideal glucose-insulin curve pattern I\r\nfound on\r\n[Wikipedia](https://en.wikipedia.org/wiki/Blood_sugar#/media/File:Suckale08_fig3_glucose_insulin_day.png).\r\n\r\n![Normal Blood Glucose Curves](https://en.wikipedia.org/wiki/File:Suckale08_fig3_glucose_insulin_day.png#/media/File:Suckale08_fig3_glucose_insulin_day.png\r\n \"Jakob Suckale, Michele Solimena - Solimena Lab and Review Suckale\r\n Solimena 2008 Frontiers in Bioscience PMID 18508724, preprint PDF\r\n from Nature Precedings, original data: Daly et al. 1998 PMID\r\n 9625092\")\r\n\r\nHer body cannot do this without without an external supply of insulin\r\nand manual correction. In the past, diabetics were required to\r\nregularly prick a finger to measure their blood glucose levels and\r\nmake corrections. Our bodies maintain homeostasis without conscious\r\neffort of assistance. For a diabetic, this is necessarily a conscious\r\nprocess. Even with more continuos blood glucose data, corrections are\r\nintermittent, rather than continuous.\r\n\r\nContinuous Glucose Monitors such as the Dexcom G4 are revolutionary\r\nbecause they monitor glucose levels at a regularly spaced interval,\r\nusually 5 minutes, throughout the day. The diabetic must still make\r\nmanual, conscious corrections to maintain homeostasis, but at least\r\nthe monitoring is more automatic and continuous. Unfortunately, the\r\naccuracy of today's CGMs is less than a traditional blood glucose\r\nmeter for two reasons. The traditional blood glucose meter (finger\r\nprick) measures the level of glucose in the blood directly. CGMs do\r\nnot. They measure the level of sugar in the diabetic's interstitial\r\nfluid. Interstitial glucose levels are a lagging indicator of blood\r\nglucose level. Thus, by the time the CGM detects a change in the\r\ninterstitial glucose levels, the diabetic may already be quite high or\r\nquite low. This is especially true for brittle diabetics who fluctuate\r\nrapidly. And because CGMs do not directly measure actual blood glucose\r\nlevels, they must be calibrated several times a day.\r\n\r\nWith all that said, these things are awesome. The ability to get\r\nnear-real-time feedback is a game changer for anyone who has to live\r\nwith this every single day. Obviously, more accurate and sensitive\r\nsensors are desired, but the current generation sensors are quite\r\ngood. The accuracy of a CGM is measured by something called a Mean\r\nAbsolute Relative Difference (MARD) between what it reads from the\r\ninterstitial fluid and what is measured by a lab blood glucose\r\ntest. Dexcom claims the G4 Platinum with share has a 9% MARD, which\r\nthey claim is the first single digit MARD on the\r\nmarket^[http://www.dexcom.com/dexcom-g4-platinum-performance]. The\r\nprevious generation of this device has a 13% MARD. I don't have the\r\nability to test this claim myself, but I can say that Karen has been\r\nvery happy with this CGM and believes it is the best she has used to\r\ndate.\r\n\r\nWhen this device was announced, diabetics were really excited about\r\nthe ability to send the sensor data to their phone and smart watch for\r\ncontinuous monitoring and feedback. As of June 2015, Dexcom only\r\nsupports this feature in conjunction with the Apple iOS ecosystem of\r\ndevices. We don't have any of those devices but we do have a strong\r\nDIY streak. We thank Dexcom for making terrific hardware and we thank\r\nthe makers of the\r\n[XDrip](https://stephenblackwasalreadytaken.github.io/xDrip/) and\r\n[Nightscout](http://www.nightscout.info/) projects for making great\r\nsoftware. This stuff is making a real difference.\r\n\r\nIf you are a diabetic and you want to take charge of how you manage\r\nyour health, this is the best way I know of to do it. You are the one\r\nin charge, as it should be.\r\n\r\n# Goals\r\n\r\nKaren's CGM takes a reading 12 times an hour, 24 hours a day. Ideally,\r\nher system should produce nearly 300 readings a day and a little over\r\n2,000 readings a week. That is a lot of data.\r\n\r\nConveniently, I am a professional data analyst working for the New\r\nYork State Department of Health. I am not a doctor. I evaluate health\r\ncare programs. My day job is to work with \"big data\" generated by the\r\nMedicaid program in New York State. My goal is to use my data analysis\r\nskills to develop new ways of looking at and evaluating Karen's\r\ndiabetes.\r\n\r\nFor exploration and rapid prototyping, I will use R. Useful ideas will\r\nbe discussed with the Nightscout developers. To measure my own\r\nprogress, this is a list of more discreet goals.\r\n\r\n- *DONE:* Setup and manage the Nightscout Mongo database and\r\n  website.\r\n- *IN PROGRESS:* Learn how to effecively query the Mongo database.\r\n\r\n    - I can pull down lots of data, but my ability to restrict my query to\r\n      items of interest is still quite limited.\r\n\r\n- *DONE:* Learn how to import Mongodb data into R. This seems harder\r\n  than necessary.\r\n- *DONE:* Export Nightscout data as a CSV file and place it into this\r\n  repo. This will be an ongoing process.\r\n- *DONE:* Use the Nightscout data to make some basic plots of blood\r\n  glucose levels.\r\n- *TODO:* Create a template report for Karen that allows us to assess\r\n  her blood glucose levels over any arbitrary time frame.\r\n- *TODO:* Finish reading [Sugar Surfing](http://sugarsurfing.com/).\r\n- *TODO:* Use ideas from the book to improve our reporting and\r\n  processing of Karen's CGM data.\r\n- *TODO:* Look for patterns in Karen's CGM data that can be used to\r\n  predict extreme highs and lows. This is important. CGMs measure\r\n  interstitial glucose levels, which are lagging indicators of blood\r\n  glucose levels. Because Karen often swings quickly, this can be a\r\n  problem. Can I find patterns in the data that can help us see a\r\n  change coming before it happens?\r\n- *TODO:* If yes, how can I make the process of finding these patterns\r\n  available to others? In other words, how can I make a generalized\r\n  process (report, function, code, etc.) that can be used by anyone,\r\n  to find and predict rapid fluctuations in blood glucose level BEFORE\r\n  they happen.\r\n- *TODO:* Publish a R package to make it easier for others to repeat\r\n  what I come up with.\r\n\r\nObviously, I am assuming there is some way to do this. But I could be\r\nwrong. If I am, I'll still learn something. At the very least, I will\r\nproduce some reporting tools that may be of use to others.\r\n\r\n# Files:\r\n\r\n- config.R: Manages project configuration.\r\n- packages.R: Loads commonly required packages. Is run everytime\r\n  config.R is run.\r\n- get-cgm-data: Script to import CGM data from Nightscout. Creates the\r\n  \"data/entries.csv\" file.\r\n- first-cgm-graph.Rmd: RMarkdown which imports \"entries.csv\" and\r\n  creates a simple graph of the CGM data.\r\n- passwords.R: Contains Mongo passwords. It is not part of the\r\n  repo. It is a simple script that assigns values to four\r\n  variables. If you have a Mongo database, you should be able to\r\n  reproduce this file easily. See get-cgm-data.R for more details.\r\n- Makefile: GNU compatible Makefile that lets me \"compile\" this\r\n  project.\r\n- LICENSE: Feel free to use this, just don't violate the license.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}